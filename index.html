<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="favicon.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vite App</title>
  </head>
  <body>
    <div id="app">
      <nav class="flex">
        <h2>Favourite Dishes</h2>
      </nav>
      <main>
        <ul>
          <li :key="dish.id" v-for="dish in dishes">
            <div>
              <img :src="dish.url" alt="dish.name" width="180" height="250" />
              <p>{{dish.name}} ¬∑ ‚Çπ {{dish.price}}</p>
              <button
                class="add-to-cart"
                v-if="!cart.find( ({ name }) => name === dish.name )"
                @click="addToCart(dish)"
              >
                Add to Cart
              </button>

              <button
                class="in-cart"
                disabled
                v-if="cart.find( ({ name }) => name === dish.name )"
              >
                Added!
              </button>
            </div>
          </li>
        </ul>
      </main>
      <aside v-if="cart.length">
        <div>
          <p>Cart</p>
          <p class="count">{{cart.length}}</p>
        </div>
        <ul>
          <li :key="item.id" v-for="item in cart">
            <div class="cart-item">
              <div class="cart-item-img">
                <img :src="item.url" :alt="item.name" height="40" width="40" />
                <input
                  type="number"
                  min="1"
                  v-model.number="item.count"
                  @keyup.enter="addCount(item)"
                />
              </div>

              <div class="card-item-details">
                <p>{{item.name}}</p>
                <p>‚Çπ {{item.count * item.price}}</p>
                <div>
                  <a @click="removeItem(item)" title="Delete Item"> Remove </a>
                </div>
              </div>
            </div>
          </li>
        </ul>
        <p>Total Amount: ‚Çπ {{price}}</p>
      </aside>

      <div class="toast-message">
        <p><span>Coming Soon</span> ‚Üí Add your own favourite dishes üç±</p>
      </div>
    </div>

    <script src="https://unpkg.com/vue@next"></script>
    <script type="module" src="/main.js"></script>
  </body>
</html>
